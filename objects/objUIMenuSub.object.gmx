<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>zui_set_anchor(0, 0);
zui_set_size(112, 64);

selected = -1;
selecty = 0;
opened = -1;
lastmenu = noone;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (lastmenu)
 zui_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (selected != opened &amp;&amp; selected &gt;= 0) {
 var menu_id = objUIMenuBar.menu_child[index, selected];

 with (lastmenu)
  zui_destroy();

 if (objUIMenuBar.menu_childs[menu_id] &gt; 0) {
  with (__parent) {
   other.lastmenu = zui_create(other.__x + other.__width, other.selecty, objUIMenuSub, other.depth - 1);
   with (other.lastmenu) {
    index = menu_id;
    event_user(0);
   }
  }
 }
 
 opened = selected;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (selected &gt;= 0) {
 var menuindex = objUIMenuBar.menu_child[index, selected];
 var callback = objUIMenuBar.menu_callback[menuindex];
 
 if (callback &gt;= 0)
  script_execute(callback);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var count = objUIMenuBar.menu_childs[index];
__height = 0;

for (var i = 0; i &lt; count; ++i) {
 var caption = objUIMenuBar.menu_caption[objUIMenuBar.menu_child[index, i]];
 var shortcut = objUIMenuBar.menu_shortcut[objUIMenuBar.menu_child[index, i]];

 var nextwidth = string_width(caption) + string_width(shortcut) + 32;

 if (__width &lt; nextwidth)
  __width = nextwidth;
 
 if (caption = "-") {
  __height += 1;
 } else {
  __height += 24;
 }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_color($ffffff);

ui_draw_blured(0, 0, __dx - __ax * __sx, __dy - __ay * __sy, __width * __sx, __height * __sy);
ui_draw_sprite_panel(sprMenuSub, -1, 18, -16, -16, __width + 32, __height + 32);

draw_set_font(fntMain);
draw_set_halign(0);
draw_set_valign(1);
draw_set_color($ffffff);

var count = objUIMenuBar.menu_childs[index];
var dy = 0;
var realy = __dy - __ay * __sy;

selected = -1;

for (var i = 0; i &lt; count; ++i) {
 var caption = objUIMenuBar.menu_caption[objUIMenuBar.menu_child[index, i]];
 var shortcut = objUIMenuBar.menu_shortcut[objUIMenuBar.menu_child[index, i]];

 if (caption = "-") {
  draw_set_color($ffffff);
  draw_line(-1, dy, __width - 1, dy);
  dy += 1;
 } else {
  draw_set_color($ffffff);
  draw_text(8, dy + 11, caption);
  
  if (__hover &amp;&amp; global.__zui_my &gt;= realy + dy &amp;&amp; global.__zui_my &lt; realy + dy + 24) {
   draw_sprite_ext(sprMenuBar, 1, 0, dy, __width / 32, 1, 0, $ffffff, 1);
   selected = i;
   selecty = __dy + __ax * __sx + dy;
  }
  
  if (string_length(shortcut) &gt; 0) {
   draw_set_halign(2);
   draw_set_color($dddddd);
   draw_text(__width - 8, dy + 11, shortcut);
   draw_set_halign(0);
  }
  dy += 24;
 }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
